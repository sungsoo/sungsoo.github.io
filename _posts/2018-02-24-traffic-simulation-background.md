---
layout: post
title: Traffic Simulation Background
date: 2018-02-24
categories: [computer science]
tags: [design patterns]

---

## Article Source
* Title: [Hybrid microscopic-mesoscopic traffic simulation](https://www.kth.se/polopoly_fs/1.742065!/hybrid%20mesoscopic.pdf)
* Authors: Wilco Burghout, Royal Institute of Technology Stockholm, Sweden 2004

---

# Traffic Simulation Background

## Abstract

Traffic simulation is an important tool for modeling the operations of dynamic traffic systems. Although *microscopic simulation models* provide a detailed representation of the traffic process, *macroscopic* and *mesoscopic* models capture the *traffic dynamics of large networks* in less detail but without the problems of application and calibration of microscopic models. This paper presents a *hybrid mesoscopic-microscopic model* that applies microscopic simulation to areas of specific interest while simulating a large surrounding network in less detail with a mesoscopic model. The requirements that are important for a hybrid model to be consistent across the models at different levels of detail are identified. These requirements vary from the network and route choice consistency to the consistency of the traffic dynamics at the boundaries of the *microscopic* and *mesoscopic* submodels. An integration framework that satisfies these requirements is proposed. A prototype hybrid model is used to demonstrate the application of the integration framework and the solution of the various integration issues. The hybrid model integrates MITSIMLab, a microscopic traffic simulation model, and Mezzo, a newly developed mesoscopic model. The hybrid model is applied in two case studies. The results are promising and support both the proposed architecture and the importance of integrating microscopic and mesoscopic models.


## Background

Traffic and transportation are essential to all economies around the world, getting people and goods to places where they are wanted, needed, and useful. As a consequence, problems in the transportation system have a large impact on almost all areas of economic activity, and are therefore given more and more attention by planners and policy makers. In the last decades we have seen a large increase in traffic and transport demand, which has created and worsened capacity problems in the infrastructure, resulting in traffic jams and delays. This happened despite a continuous effort by authorities to extend and improve the traffic infrastructure to meet the increased demand. As an added complication, the space for extending the infrastructure has become limited, especially in metropolitan areas where the described capacity problems occur.
As the demand may be expected to continue to grow for some time to come, it is not difficult to see the need to invest not only in improved infrastructure, but in the planning and management of this infrastructure as well.
Although there exist many modes of transport, including train, flight, waterways, cycling and walking, the bulk of traffic consists of vehicles on the road network. Logically, most planning and research efforts have focused on this mode of transport. Planning and managing congested road traffic networks requires insight into the aspects of traffic flow operations, such as what causes congestion, what determines the time and place of traffic breakdown, how does congestion propagate through the network, etc.

In the last decade the development of so-called **Intelligent Transportation Systems **(ITS) has resulted in an increased effort in developing traffic planning and management tools. ITS is a term that is used for a large range of traffic information and control technologies. When integrated into the transport infrastructure system and into the vehicles themselves, such technologies help monitor and manage traffic flow, reduce congestion, provide alternate routes to travellers and increase safety. An example of such ITS systems are *Advanced Traveller Information Systems* (ATIS) that provide travellers with real-time information along their routes. Other ITS systems are *Advanced Traffic Management Systems* (ATMS) that collect real-time traffic information, used to optimise real-time traffic control systems and *Incident Management Systems*. ITS systems provide traffic operators with the information and control tools to respond swiftly to incidents on the traffic network (such as accidents). These systems are called '*Intelligent*' because of their use of advanced communication technologies, real-time information and real-time control. The detailed and disaggregated nature of the information that these models use, as well as their direct way of influencing the traffic behaviour, has called for new methods to study the traffic system.

After some seventy years of research in traffic flow and the application of its findings to the planning and management of traffic, the discipline has developed a wide variety of methods and tools it can use. For an overview of the state of the art in traffic flow research, see (May, A.D. 1990), (Daganzo, C. 1997) or (Gartner, N.H. *et al*. 1997).
Besides the familiar tools such as handbooks and manuals (e.g. the Highway Capacity Manual (HCM 2000)) augmented with calculation utilities, the use of traffic flow models has become common. There exist a large number of such models, and they are usually characterised along two dimensions: *the level of detail* in which they describe the traffic processes, and *the way they operate* in producing the answers (*operationalisation*).

The operationalisation of models is usually classified as *analytical*, where the solution to a set of differential equations describing the traffic system is obtained analytically (using calculus), or *simulation*, where the successive changes of the traffic system over time (*space-time dynamics*) are reproduced (*approximated*) in the model.

Analytical models can be both *static* and *dynamic*, but will usually compute the *result* of a given traffic problem, using numerical methods to produce the solutions. Simulation models on the other hand *follow the dynamics of the traffic system*, and give in a sense a *continuous view of the state of the traffic system* over time. This characteristic of simulation models is an advantage over analytical models, since it gives more information and insight into what is happening to the traffic system under study. However, until recently the *computational cost* at which this advantage came was simply too high for simulation to be used on any traffic system that consisted of more than a couple of intersections. But with the steady advance of computation power, this issue now is of lesser importance, and recent years have seen increased use of traffic simulation models.

The levels of detail in simulation models range from *macroscopic* via *mesoscopic* to *microscopic*. Macroscopic models describe the traffic at a *high level of aggregation* as *flow* (the number of vehicles per hour that pass a certain point), without considering its constituent parts (the vehicles), whereas microscopic models describe the behaviour of the entities making up the *traffic stream* (the vehicles) as well as their interactions in detail. Mesoscopic models are at an intermediate level of detail, for instance describing the individual vehicles, but not their interactions.

In order to represent the traffic system that is studied in a suitable way, two aspects and their interaction need to be modelled. On the one hand there is the **Supply side** that consists of the traffic network (the roads and intersections) and its performance together with all the control and information systems (traffic lights, Variable Message Signs (VMS), speed limits, etc.). On the other hand there is the **Demand side** that consists of the *travellers* and *their behaviour*. In other words, the drivers want to go from some place to another (Demand) and the traffic infrastructure provides the means to do that (Supply). These sides interact in the way that travellers react to the speed limit signs, the conditions on the roads and so forth, by making different choices (route choices, speed choices etc.), and control and information systems adapt to the choices of drivers.

Traditionally a lot of effort has gone into *modelling equilibrium conditions* in the interactions between the demand and supply side. In these models the route-choice decisions of the travellers (demand) are modelled given a network with certain characteristics (supply). Given the choices of the travellers, the roads in the network will have certain performance (travel time, flow). If a lot of travellers use the same road, it will get congested and the travel time (cost) will increase. Just as in regular markets, any alternative with a shorter travel time (lower cost) will therefore become more attractive. Using some algorithm the route choices and resulting network performance are iterated until equilibrium arises in the route choice and network performance. (Wardrop, J.G. 1952) defined the *condition for equilibrium* in route choices and network performance as follows:

> All routes actually used between an origin and a destination have the same travel time (cost) and this travel time (cost) is not larger than the travel time along any other route between that origin-destination pair.

In other words, for each origin-destination pair, all routes that are used by the drivers will have equal cost (travel time), and there is no (unused) route with a lower travel time. An example of such a model is EMME/2 (INRO-Consultants 1996). The modelling of the demand (travellers wanting to use the network) and supply side (the traffic network and its performance) by this type of models is usually done in a *static* way. This means that the traffic flows on the network are assumed to stay the same during the study time period. This assumption allows for fast and guaranteed convergence to the equilibrium, but ignores the changes of the traffic situation over time (dynamics). The problem with this approach is that not only the demand varies greatly over time, but the performance of the network (and thus travel times on routes) shows great fluctuations as a result of congestion on certain roads, queues that build up and dissipate, and so on. In addition, while the static approach assumes that a certain demand results instantaneously in certain traffic flows on the network, in reality the effect of demand on the performance on different roads in the network occurs after a certain period of time, simply because it takes a certain amount of time to get from the origin to that road. And that amount of time is again dependent on the time-varying traffic flows in the network (how many vehicles are on the roads).
While these facts are known, these models continue to be used for predicting traffic network performance on larger networks, and may produce results that are very far from reality (especially in congested networks), as reported in (Merritt, E. 2003) and (Bång, K.-L.E. 2000).

The inherent *dynamic* nature of traffic is not represented by the *static* models, which leads to poor predictions of traffic performance, especially during periods of *congestion*. As a result, focus has shifted to dynamic models, such as CONTRAM (Leonard, D.R. et al. 1989), DYNASMART (Jayakrishnan, R. et al. 1994) and DYNAMIT (Ben-Akiva, M. et al. 1997).
